#include <ctime>
#include <iostream>
#include <windows.h>
#include <string>
#include <fstream>
#include "stdio.h"


using namespace std;

int main()
{
    setlocale(LC_ALL, "ru");

    int** m;
    int rows, cols;

    cout << "Введите количество строк: ";
    cin >> rows;
    cout << "Введите количество столбцов: ";
    cin >> cols;

    m = new int* [rows];

    ifstream file("C:\\Users\\MubaTwo\\Desktop\\file\\file.txt");//Чтение файла
    if (!file)
    {
        cout << "Ошибка чтения файла.";
    }

    else
    {
        cout << "\nФайл прочитан.";
    }

    Sleep(500);
    system("CLS");


    for (int i = 0; i < rows; i++)
    {
        m[i] = new int[cols];//Присваиваем элементам указателей новые динамические массивы размером количества СТОЛБЦОВ		
    }

    for (int i = 0; i < rows; i++)//Заполняем двумерный динамический массив числами из файла
    {
        for (int j = 0; j < cols; j++)
        {
            file >> m[i][j];
        }
    }

    for (int i = 0; i < rows; i++)//Выводим массив на экран
    {
        for (int j = 0; j < cols; j++)
        {
            cout << m[i][j] << "\t";
        }
        cout << endl << endl << endl;
    }


    ////////////////////////////////////////////// ОЧИСТКА /////////////////////////////////////////////////////////////
    for (int i = 0; i < rows; i++)
    {
        delete[] m[i];
    }

    delete[] m;
    return 0;
}