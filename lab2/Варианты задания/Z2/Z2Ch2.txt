#include <ctime>
#include <iostream>
#include <windows.h>
#include <string>
#include <fstream>
#include "stdio.h"


using namespace std;

int main()
{
    setlocale(LC_ALL, "ru");

    int** A, ** C;//Матрицы
    int** B, ** D;//Векторы
    int rows, cols;

    cout << "Введите количество строк: ";
    cin >> rows;
    cout << "Введите количество столбцов: ";
    cin >> cols;

    A = new int* [rows];
    C = new int* [rows];
    B = new int* [rows];
    D = new int* [rows];

    ifstream fileA("C:\\Users\\MubaTwo\\Desktop\\file\\fileA.txt");//Чтение файла
    if (!fileA)
    {
        cout << "Ошибка чтения файла fileA";
    }

    else
    {
        cout << "\nФайл прочитан fileA.";
    }

    ifstream fileC("C:\\Users\\MubaTwo\\Desktop\\file\\fileC.txt");//Чтение файла
    if (!fileC)
    {
        cout << "Ошибка чтения файла fileC";
    }

    else
    {
        cout << "\nФайл прочитан fileC.";
    }

    ifstream fileB("C:\\Users\\MubaTwo\\Desktop\\file\\fileB.txt");//Чтение файла
    if (!fileB)
    {
        cout << "Ошибка чтения файла fileB";
    }

    else
    {
        cout << "\nФайл прочитан fileB.";
    }

    ifstream fileD("C:\\Users\\MubaTwo\\Desktop\\file\\fileD.txt");//Чтение файла
    if (!fileD)
    {
        cout << "Ошибка чтения файла fileD";
    }

    else
    {
        cout << "\nФайл прочитан fileD.";
    }

    Sleep(500);
    system("CLS");


    for (int i = 0; i < rows; i++)
    {
        A[i] = new int[cols];//Присваиваем элементам указателей новые динамические массивы размером количества СТОЛБЦОВ		
        C[i] = new int[cols];
        B[i] = new int[cols];
        D[i] = new int[cols];
    }

    ///////////////////////////////////////////////// ЗАПОЛНЕНИЕ МАССИВА /////////////////////////////////////////////////////////////
    for (int i = 0; i < rows; i++)//Заполнение матриц
    {
        for (int j = 0; j < cols; j++)
        {
            fileA >> A[i][j];
            fileC >> C[i][j];
        }
    }
    
    for (int i = 0; i < rows; i++)//Заполнение векторa B m x 1
    {
        for (int j = 0; j < 1; j++)
        {
            fileB >> B[i][j];
        }
    }

    for (int i = 0; i < 1; i++)//Заполнение векторa D 1 x m
    {
        for (int j = 0; j < rows; j++)
        {
            fileD >> D[i][j];
        }
    }
    ///////////////////////////////////////////// ВЫВОДИМ МАССИВЫ А И С НА ЭКРАН /////////////////////////////////////////////////////
    cout << "MatrA: " << endl;
    for (int i = 0; i < rows; i++)//Выводим массив A на экран
    {
        for (int j = 0; j < cols; j++)
        {
            cout << A[i][j] << "\t";
        }
        cout << endl << endl << endl;
    }

    cout << "\n------------------------------------------------------------------------------------\n";

    cout << "MatrC: " << endl;
    for (int i = 0; i < rows; i++)//Выводим массив C на экран
    {
        for (int j = 0; j < cols; j++)
        {
            cout << C[i][j] << "\t";
        }
        cout << endl << endl << endl;
    }

    cout << "\n------------------------------------------------------------------------------------\n";

    cout << "VectB: " << endl;
    for (int i = 0; i < rows; i++)//Выводим массив B m x 1 на экран
    {
        for (int j = 0; j < 1; j++)
        {
            cout << B[i][j];
        }
        cout << endl << endl << endl;
    }

    cout << "\n------------------------------------------------------------------------------------\n";

    cout << "VectD: " << endl;
    for (int i = 0; i < 1; i++)//Выводим массив D 1 x m на экран
    {
        for (int j = 0; j < rows; j++)
        {
            cout << D[i][j] << "\t";
        }
        cout << endl << endl << endl;
    }

    ////////////////////////////////////////////// ВЫЧИСЛЕНИЕ /////////////////////////////////////////////////////////////////////////



    ////////////////////////////////////////////// ОЧИСТКА ////////////////////////////////////////////////////////////////////////////
    for (int i = 0; i < rows; i++)
    {
        delete[] A[i];
        delete[] C[i];
    }

    delete[] A;
    delete[] C;
    delete[] B;
    delete[] D;

    return 0;
}