#include <iostream>
#include <string>
#include "stdio.h"
#include "fstream"
#include "ctime"

using namespace std;

int main()
{
	setlocale(LC_ALL, "ru");
	srand(time(NULL));

	int* m, a, b, g, k, n, size;

	cout << "Задайте интервал [a, b]:\n";
	cin >> a;
	cin >> b;

	size = fabs(a - b);//Размерность массива в связи с интервалом
	m = new int[size];
	
	printf("Заданный диапазон: [%d, %d]", a, b);

	for (int i = a, g = 0; i < b; i++, g++)//Заполняем массив случайными числами из интервала
	{
		m[g] = a + rand()%((b+1)-a);
	}
	
	for (int i = 0; i < size; i++)
	{
		printf("\nm[%d] > %d\n", i, m[i]);
	}
	
	/*Сжатие массива*/

	cout << "\nEnter k: ";
	cin >> k;
	n = 0;


	for (int i = a, g = 0; i < b; i++, g++)
	{
		if (m[g] > k)//Зануляем элементы массива, привышающие заданное число k
		{
			m[g] = 0;
		}
		else 
		{ 
			printf("\nm[%d] > %d\n", g, m[g]);
			++n;
		}
	}

	for (int i = a; i < b; i++)//Сортируем элементы массива по убыванию
	{
		for (int g = 0; g < b - 1; g++)
		{
			if (m[g] < m[g + 1])
			{
				swap(m[g], m[g + 1]);
			}
		}
	}

	size = n;//Сжимаем массив
	m[size];
	cout << "\nСжатый массив:\n";

	for (int i = 0; i < size; i++)
	{
		printf("\nm[%d] > %d\n", i, m[i]);
	}
}