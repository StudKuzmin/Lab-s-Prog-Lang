#include <iostream>
#include <ctime>
#include <fstream>
#include <string>
#include <windows.h>

using namespace std;

struct bus
{
	int bus_number;		// Номер автобуса
	int route_number;	// Номер маршрута
	int time;			// Продолжительность 1 круга
	char** FIO;			// ФИО

};

void inf_bus(int* bs_nmbr, int* rt_nmbr, int* tm, string* F) // Функция вывода информации об автобусах на экран
{
	ifstream read_bus_number("C:\\Users\\MubaTwo\\Desktop\\file\\lab5\\Park\\Номера автобусов.txt"); if (!read_bus_number) cout << "Ошибка открытия файла Номера автобусов.txt" << endl;
	ifstream read_route_number("C:\\Users\\MubaTwo\\Desktop\\file\\lab5\\Park\\Номера маршрутов.txt"); if (!read_route_number) cout << "Ошибка открытия файла Номера маршрутов.txt" << endl;
	ifstream read_time("C:\\Users\\MubaTwo\\Desktop\\file\\lab5\\Park\\Продолжительность.txt"); if (!read_time) cout << "Ошибка открытия файла Продолжительность.txt" << endl;
	ifstream read_FIO("C:\\Users\\MubaTwo\\Desktop\\file\\lab5\\Park\\ФИО водителей.txt"); if (!read_FIO) cout << "Ошибка открытия файла ФИО водителей.txt" << endl;
	int i = 0; int j = 0; char symbol; char str[255];

	for (int i = 0; !read_bus_number.eof(); i++) // Считываем номера автобусов.txt в массив bs_nmbr
	{
		read_bus_number >> bs_nmbr[i]; cout << bs_nmbr[i] << endl;
	}
	cout << "*" << endl;
	for (int i = 0; !read_route_number.eof(); i++) // Считываем номера маршрутов.txt в массив rt_nmbr
	{
		read_route_number >> rt_nmbr[i]; cout << rt_nmbr[i] << endl;
	}
	cout << "*" << endl;
	for (int i = 0; !read_time.eof(); i++) // Считываем Продолжительность.txt в массив tm
	{
		read_time >> tm[i]; cout << tm[i] << endl;
	}
	cout << "*" << endl;
	for (int i = 0; !read_FIO.eof(); i++) // Считываем ФИО водителей.txt в массив F
	{
		getline(read_FIO, F[i]); cout << F[i] << endl;
	}
	

	read_bus_number.close();
	read_route_number.close();
	read_time.close();
	read_FIO.close();
}

int main()
{
	setlocale(LC_ALL, "ru");
	int f = rand() % 15;			// Ограничиваем количество автобусов до 15

	bus** mas_bus = new bus* [f];	// Создаём массив структур
	for (int i = 0; i < f; i++)
	{
		mas_bus[i] = new bus[50];
	}

	int* bs_nmbr = new int[f]; int* rt_nmbr = new int[f]; int* tm = new int[f]; string* F = new string [f]; // Отдельные массивы для каждого файла

	inf_bus(bs_nmbr, rt_nmbr, tm, F); // Функция вывода информации об автобусах на экран
	


	delete[] bs_nmbr;
	delete[] rt_nmbr;
	delete[] tm;
	delete[] F;
	for (int i = 0; i < f; i++)
	{
		delete[] mas_bus[i];
	}
	delete[] mas_bus;

	return 0;
}